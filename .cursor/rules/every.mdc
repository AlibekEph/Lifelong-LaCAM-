---
alwaysApply: true
---

–ù–∏–∂–µ ‚Äî **–≥–æ—Ç–æ–≤–æ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ, –Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**,
–∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ Cursor –≤ —Ä–∞–∑–¥–µ–ª *rules / context*,
—á—Ç–æ–±—ã –≤—Å–µ –ò–ò-–∞–≥–µ–Ω—Ç—ã —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî **–ø–æ–ª–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ LaCAM** –¥–ª—è –∑–∞–¥–∞—á–∏ **Multi-Agent Path Finding (MAPF)**, –≤–∫–ª—é—á–∞—è:

* —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ (Grid –∏–ª–∏ General Graph),
* high-level –∏ low-level —Å—Ç—Ä—É–∫—Ç—É—Ä—ã LaCAM,
* –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É **PIBT** (Priority Inheritance with Backtracking),
* —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤,
* —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è high-level Open-—Å–ø–∏—Å–∫–æ–º (stack),
* –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è Lifelong MAPF.

–í–µ—Å—å –∫–æ–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ **`src/`**:

```
src/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ graph/                  # –í—Å–µ —Ç–∏–ø—ã –≥—Ä–∞—Ñ–æ–≤ (GridGraph, GeneralGraph, Base)
‚îÇ   ‚îú‚îÄ‚îÄ configuration.py        # Immutable –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ constraint.py           # LL-node: who‚Üíwhere + parent + depth
‚îÇ   ‚îú‚îÄ‚îÄ hl_node.py              # HL-node: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è + constraint-tree + –ø–æ—Ä—è–¥–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ lacam.py                # –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ LaCAM
‚îÇ
‚îî‚îÄ‚îÄ strategies/
    ‚îú‚îÄ‚îÄ generators/             # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (PIBT, Greedy‚Ä¶)
    ‚îÇ   ‚îú‚îÄ‚îÄ base.py             # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ConfigGenerator
    ‚îÇ   ‚îî‚îÄ‚îÄ pibt.py             # –ü–æ–ª–Ω—ã–π PIBT: priority inheritance + backtracking
    ‚îÇ
    ‚îú‚îÄ‚îÄ ordering/               # –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ base.py             # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å AgentOrdering
    ‚îÇ   ‚îî‚îÄ‚îÄ distance_ordering.py# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –¥–æ —Ü–µ–ª–∏
    ‚îÇ
    ‚îî‚îÄ‚îÄ open_policy/            # –ü–æ–ª–∏—Ç–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Open-—Å–ø–∏—Å–∫–æ–º HL-—É–∑–ª–æ–≤
        ‚îú‚îÄ‚îÄ base.py             # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å OpenPolicy
        ‚îî‚îÄ‚îÄ stack.py            # StackOpen ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π LaCAM
```

---

# üß© **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**

### 1. **GraphBase**

–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞.
–î–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

* `GridGraph`: —Å–µ—Ç–∫–∞ —Å NDArray[np.bool_] (—Å—Ç–µ–Ω—ã / —Å–≤–æ–±–æ–¥–Ω—ã–µ –∫–ª–µ—Ç–∫–∏)
  –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ precomputed neighbors
* `GeneralGraph`: CSR-–≥—Ä–∞—Ñ (–±—ã—Å—Ç—Ä—ã–π, –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π)

### 2. **Configuration**

–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –ø–æ–∑–∏—Ü–∏–∏ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ HL-—É–∑–ª–∞—Ö –∏ LL-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

### 3. **Constraint**

–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π LL-node, —Ö—Ä–∞–Ω—è—â–∏–π:
`parent`, `who`, `where`, `depth`.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è LaCAM –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è LL-–¥–µ—Ä–µ–≤–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

### 4. **HLNode**

High-level —É–∑–µ–ª LaCAM:
`config`, `constraint_tree`, `order`, `parent`.
–•—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –Ω–∞ high-level.

### 5. **PIBTGenerator (ConfigGenerator)**

–û—Å–Ω–æ–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:
—Ä–µ–∞–ª–∏–∑—É–µ—Ç **PIBT —Å priority inheritance –∏ backtracking**.
–î–µ–ª–∞–µ—Ç **–æ–¥–∏–Ω —à–∞–≥** –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ t –∫ t+1.

### 6. **AgentOrdering**

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤.
–í –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –¥–æ —Ü–µ–ª–∏.

### 7. **OpenPolicy (StackOpen)**

–°—Ç—Ä–∞—Ç–µ–≥–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Open-—Å–ø–∏—Å–∫–æ–º HL-—É–∑–ª–æ–≤.
`StackOpen` ‚Äî –≥–ª—É–±–∏–Ω–Ω—ã–π –æ–±—Ö–æ–¥, –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º LaCAM.

### 8. **LaCAM (–æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º)**

–í—ã–ø–æ–ª–Ω—è–µ—Ç:

* high-level –ø–æ–∏—Å–∫ –ø–æ HL-—É–∑–ª–∞–º,
* low-level LL-–¥–µ—Ä–µ–≤–æ –ø–æ constraints,
* –≤—ã–∑–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è successor state.

–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ MAPF –∏–ª–∏ —Å–æ–æ–±—â–∞–µ—Ç –æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

---

# üéØ **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**

–°–æ–∑–¥–∞—Ç—å **—á–∏—Å—Ç—É—é, –º–æ–¥—É–ª—å–Ω—É—é, –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—É—é** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é LaCAM:

* –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –≥—Ä–∞—Ñ—ã (Grid / GeneralGraph / CSR),
* –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (PIBT / Greedy / RL-based),
* –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É Open (stack / priority queue),
* –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å Lifelong MAPF, LaCAM*, Engineering LaCAM*,
* —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–¥–µ–ª—è—é—â–µ–π high-level search, low-level constraints –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä.

---

# üìÑ **–ö–æ–Ω—Ç–µ–∫—Å—Ç (–¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤)**

* –ö–æ–¥ —Å—Ç—Ä–æ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω, –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
* –ù–µ–ª—å–∑—è —Å–º–µ—à–∏–≤–∞—Ç—å high-level –ª–æ–≥–∏–∫—É LaCAM —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.
* –ù—É–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `GraphBase`, `ConfigGenerator`, `AgentOrdering`, `OpenPolicy`.
* –í—Å—è –ª–æ–≥–∏–∫–∞ LL-—É–∑–ª–æ–≤ (`Constraint`) –∏ HL-—É–∑–ª–æ–≤ (`HLNode`) –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤.
* –í—Å–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ constraints LaCAM.
* PIBT –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å **–æ–¥–∏–Ω —à–∞–≥**, –Ω–∏–∫–∞–∫–æ–≥–æ –º–Ω–æ–≥–æ–∫–ª–µ—Ç–æ—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
* –ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ real-time MAPF, –ø–æ—ç—Ç–æ–º—É –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä—ã–º, —á–∏—Å—Ç—ã–º –∏ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.


